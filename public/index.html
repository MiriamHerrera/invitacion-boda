<!DOCTYPE html>
<html lang="es">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Rubén & Miriam - Invitación</title>
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Parisienne&display=swap" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400;500;600&display=swap" rel="stylesheet">
	<link rel="stylesheet" href="/styles.css">
	<link rel="icon" href="/background-effect/anillos.png" type="image/png" sizes="any">
	<link rel="apple-touch-icon" href="/background-effect/anillos.png">
	<meta name="description" content="Invitación de boda de Rubén y Miriam. Confirma tu asistencia.">
</head>
<body>
	<!-- Intro: Sobre animado -->
	<div id="intro-envelope" class="intro-envelope" role="dialog" aria-label="Abrir invitación" aria-modal="true">
		<div class="wrapper" id="envWrapper" aria-hidden="true">
			<div class="lid one"></div>
			<div class="lid two"></div>
			<div class="envelope"></div>
 			<!-- Marco superior: mismo ancho del sobre -->
 			<img class="frame-top" src="/background-effect/Marco%20superior.png" alt="" aria-hidden="true">
 			<!-- Marco inferior: mismo ancho del sobre -->
 			<img class="frame-bottom" src="/background-effect/Marco%20inferior.png" alt="" aria-hidden="true">
			<!-- Sello centrado al centro del sobre -->
			<img class="seal" src="/background-effect/Sello%20de%20carta.png" alt="" aria-hidden="true">
			<div class="letter">
				<div class="env__names">Rubén <span>&</span> Miriam</div>
				<div class="env__hint"></div>
			</div>
		</div>
		<!-- Decoraciones en el body (fuera de la carta) -->
		<div class="env-decor" aria-hidden="true">
			<img class="dec corner tl" src="/background-effect/Esquina%20superior%20izquierda.png" alt="">
			<img class="dec corner tr" src="/background-effect/Esquina%20superior%20derecha.png" alt="">
			<img class="dec corner bl" src="/background-effect/Esquina%20inferior%20izquierda.png" alt="">
			<img class="dec corner br" src="/background-effect/Esquina%20inferior%20derecha.png" alt="">
			<!-- Marco inferior removido por cubrir demasiado -->
		</div>
		<div class="intro-hint" aria-hidden="true">
			<span class="tap-icon"></span>
			<span class="hint-text">Toca el sobre</span>
		</div>
	</div>
	<canvas id="bg-canvas" aria-hidden="true"></canvas>
	<!-- Cortina de luces (CSS only) -->
	<div class="light-curtain" aria-hidden="true">
		<div class="layer l1"></div>
		<div class="layer l2"></div>
		<div class="layer l3"></div>
	</div>
	<header class="hero">
		<div class="hero-inner">
			<p class="overline">Nos casamos</p>
			<h1 class="couple">Rubén <span>&</span> Miriam</h1>
			<p class="date-place">Celebremos juntos este gran día</p>
		</div>
	</header>

	<main>
		<div class="ornament" aria-hidden="true"><span class="dot"></span></div>
		<section class="intro card">
			<div class="intro-grid">
				<div class="intro-text">
					<h2 id="greet">¡Te invitamos a nuestra boda!</h2>
					<p id="guestNameText" class="white-text">Personalizando invitación...</p>
					<p id="honorBadge" class="ok" hidden style="text-align:center;"></p>
					<p id="honorSpeech" class="ok" hidden style="text-align:center;"></p>
					<p>Estamos felices de compartir este momento contigo. Agradecemos que puedas confirmar tu asistencia.</p>
				</div>
				<div class="intro-photo">
					<div class="photo-frame">
						<img src="./background-effect/0ccd42fa-99a6-47f2-a440-4e2698788f5b.png" alt="Rubén y Miriam" loading="lazy">
					</div>
				</div>
			</div>
		</section>

		<section class="details card" data-lat="25.6552494" data-lng="-100.2000449">
			<h3>Detalles del evento</h3>
			<p class="venue">ARCANGELES EVENTOS</p>
			<p class="address">Transportes 109, S.C.O.P., 67190 Guadalupe, N.L., Mexico</p>
			<p class="datetime"><time datetime="2026-03-15T20:00">Domingo 15 de Marzo 2026 · 7:40 pm</time></p>
			<div class="map">
				<iframe
					title="Ubicación - ARCANGELES EVENTOS"
					loading="lazy"
					referrerpolicy="no-referrer-when-downgrade"
					allowfullscreen
					src="https://www.google.com/maps?q=ARCANGELES%20EVENTOS%2C%20Transportes%20109%2C%20S.C.O.P.%2C%2067190%20Guadalupe%2C%20N.L.%2C%20Mexico&z=16&output=embed">
				</iframe>
			</div>
			<div class="cta-grid">
				<a class="btn secondary map-link" href="https://maps.app.goo.gl/RzNwnEfrH5WKFv9Y8" target="_blank" rel="noopener">Ver en maps</a>
				<a id="uberLink" class="btn secondary" target="_blank" rel="noopener">Ir con Uber</a>
				<a id="didiLink" class="btn secondary" target="_blank" rel="noopener">Ir con DiDi</a>
			</div>
		</section>

		<section class="dresscode card">
			<h3>Código de vestimenta</h3>
			<p class="white-text">Formal</p>
		</section>

		<section class="countdown card">
			<h3>Cuenta regresiva</h3>
			<div id="countdown" class="countdown-timer">—</div>
		</section>

		<section class="faq card">
			<h3>Preguntas frecuentes</h3>
			<div class="faq-list">
				<details>
					<summary>¿Puedo llevar niños?</summary>
					<p>Amamos a los peques, pero el evento es para adultos. Si necesitas algo especial, escríbenos.</p>
				</details>
				<details>
					<summary>¿A qué hora debo llegar?</summary>
					<p>Te recomendamos llegar 20–30 minutos antes para acomodarte con calma.</p>
				</details>
				<details>
					<summary>¿Hay estacionamiento?</summary>
					<p>Sí, el salón cuenta con estacionamiento. Te sugerimos llegar con tiempo.</p>
				</details>
				<details>
					<summary>¿Qué puedo regalar?</summary>
					<p>Tu presencia es nuestro mejor regalo.
						Si deseas hacernos un obsequio, agradecemos cualquier contribución económica. Tendremos un espacio destinado para sobres el día del evento.
						¡Gracias por tu cariño!</p>
				</details>
				<details>
					<summary>¿Puedo cambiar mi confirmación?</summary>
					<p>Sí. Con el mismo enlace/código puedes actualizar tu respuesta hasta días antes del evento.</p>
				</details>
				<details>
					<summary>¿Cómo sabré mi mesa?</summary>
					<p>Si ya tienes mesa asignada, aparecerá en esta invitación acercandose el dia del evento; de lo contrario, se asignará al llegar.</p>
				</details>
			</div>
		</section>

		<section class="rsvp card">
			<h3>Confirmación de asistencia</h3>
			<div id="codeBox" class="code-box">
				<label for="inviteCode">Tu código de invitación</label>
				<div class="inline">
					<input id="inviteCode" type="text" placeholder="Ej: miriam-amiga-ana">
					<button id="loadGuest" class="btn secondary">Cargar</button>
				</div>
				<p class="help muted">O usa un enlace con ?i=tu-codigo</p>
			</div>
			<form id="rsvpForm" class="form" novalidate>
				<div class="row">
					<div class="field">
						<label>Invitado</label>
						<input id="displayName" type="text" disabled>
					</div>
					<div class="field" id="attendeesField">
						<label for="attendees">¿Cuántas personas asistirán?</label>
						<select id="attendees" required>
							<option value="" selected disabled>Selecciona asistentes…</option>
							<option value="0">No podré asistir</option>
							<option value="1">1</option>
							<option value="2">2</option>
							<option value="3">3</option>
							<option value="4">4</option>
							<option value="5">5</option>
							<option value="6">6</option>
							<option value="7">7</option>
							<option value="8">8</option>
							<option value="9">9</option>
							<option value="10">10</option>
						</select>
					</div>
				</div>
				<!-- Mensaje inline para asistentes: debajo de la pregunta y antes de 'Máximo permitido' -->
				<div id="inviteesWrap" class="field" style="display:none;">
					<label>Invitación dirigida a</label>
					<ul id="inviteesList" class="invitees-list"></ul>
				</div>
				
				<div class="row">
					<div class="field hide-mobile"></div>
					<div class="field">
						<small id="attendeesInlineErr" class="error" hidden>Selecciona una opción valida.</small>
						<small id="attendeesHelp" class="muted" style="text-align: end;padding-right: .25rem;">Máximo permitido: 2</small>
					</div>
				</div>
				<div id="tableInfoWrap" class="field" style="display:none;">
					<label>Mesa asignada</label>
					<div id="tableInfo" class="white-text"></div>
				</div>
				<div class="field">
					<label for="contact">Contacto (teléfono o email, opcional)</label>
					<input id="contact" type="text" placeholder="Tu teléfono o email">
				</div>
				<div class="field">
					<label for="message">Mensaje para los novios (opcional)</label>
					<textarea id="message" rows="3" placeholder="Escribe un mensaje..."></textarea>
				</div>
				<div class="actions">
					<button id="submitBtn" class="btn primary" style="background-color: var(--ring);" type="submit">Confirmar asistencia</button>
				</div>
				<p id="formNote" class="muted small" style="text-align: center;">Al confirmar, podrás modificar tu respuesta más adelante con el mismo enlace.</p>
				<p id="formError" class="error" hidden></p>
				<p id="formOk" class="ok" hidden>¡Gracias! Tu respuesta ha sido registrada.</p>
			</form>
		</section>
	</main>

	<footer class="footer">
		<p>Rubén & Miriam</p>
	</footer>

	<script src="/particles.js" defer></script>
	<script src="/intro.js" defer></script>
	<script src="/app.js" defer></script>
	<script>
		// Perf hint: add loaded class to enable transitions after first paint
		window.addEventListener('load', () => document.body.classList.add('loaded'));
	</script>
</body>
	</html>


